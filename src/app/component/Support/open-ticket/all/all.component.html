<div class="all-projects-table">
  <div class="table-responsive">
      <table mat-table *ngIf="dataSource.data.length > 0" [dataSource]="dataSource" class="mat-elevation-z8">

          <!-- Project Column -->
          <ng-container matColumnDef="customerDetails">
            <th mat-header-cell *matHeaderCellDef class="pl-0">
               Customer Details
            </th>
            <td mat-cell *matCellDef="let element" class="pl-0">
                <div class="project-info d-flex align-items-center">
                   
                    <div class="info">
                        <h6 class="mt-0">
                            <a routerLink="/">
                                {{ element?.CustomerName }}
                            </a>
                        </h6>
                        <span class="d-block text-body">
                           Phone no -  {{element?.PhoneNo}}
                        </span>
                        <span class="d-block text-body">
                            <!-- Ticket ID -{{element?.id}} -->
                            </span>
                    </div>
                </div>
            </td>
        </ng-container>

        <!-- Completion Column -->
        <ng-container matColumnDef="retailerDetails">
            <th mat-header-cell *matHeaderCellDef class="pl-0">
               Retailers Details
            </th>
            <td mat-cell *matCellDef="let element" class="pl-0">
                <div class="project-info d-flex align-items-center">
                   
                    <div class="info">
                        <h6 class="mt-0">
                            
                            {{element?.RetailerName}}
                            
                        </h6>
                        <span class="d-block text-body">
                            Retailers ID - {{element?.RetailerId}}
                        </span>
                    </div>
                </div>
            </td>
        </ng-container>


          <!-- Budget Column -->
          <ng-container matColumnDef="raisedBy">
              <th mat-header-cell *matHeaderCellDef>
                 Ticket Raised By
              </th>
              <td mat-cell *matCellDef="let element">
                  {{element?.CreatedByName}}
              </td>
          </ng-container>

          <ng-container matColumnDef="allocatedTo">
              <th mat-header-cell *matHeaderCellDef>
              Allocated To
              </th>
              <td mat-cell *matCellDef="let element">
                  {{element?.allocateByName ? element?.allocateByName : 'N/A'}}
              </td>
          </ng-container>
         

              
          <!-- Members Column -->
          <ng-container matColumnDef="issue">
              <th mat-header-cell *matHeaderCellDef>
                issue
              </th>
             
                  <td mat-cell *matCellDef="let element">
                      {{element?.Issue}}
                  </td>
              
          </ng-container>

          <!-- Status Column -->
          <ng-container matColumnDef="status">
              <th mat-header-cell *matHeaderCellDef>
                  Status
              </th>
              <td mat-cell *matCellDef="let element">
                  <span class="trinta-badge fw-medium d-inline-block" *ngIf="element?.Status === 'open'">Open</span>
                  <span class="trinta-badge fw-medium pending d-inline-block" *ngIf="element?.Status === 'pending'">Pending</span>
                  <span class="trinta-badge fw-medium completed d-inline-block" *ngIf="element?.Status === 'completed'">Completed</span>
              </td>
          </ng-container>



          <!-- Action Column -->
          <ng-container matColumnDef="action">
              <th mat-header-cell *matHeaderCellDef>Action</th>
              <td mat-cell *matCellDef="let element" class="text-end pr-0">
                  <div class="action">
                      <button mat-raised-button class="d-block w-100 text-center" color="primary" 
                          (click)="viewDetails(element)" [routerLink]="['/view-ticket', element.id]"> 
                          View Details
                      </button>
                  </div>
              </td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

      </table>
  </div>
  <mat-paginator [pageSizeOptions]="[8, 16, 24]"></mat-paginator>
</div>